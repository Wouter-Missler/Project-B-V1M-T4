<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project Steam Dashboard</title>

  <!-- update the version number as needed -->
  <script defer src="/__/firebase/9.14.0/firebase-app-compat.js"></script>
  <!-- include only the Firebase features as you need -->
  <!-- <script defer src="/__/firebase/9.14.0/firebase-auth-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-database-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-firestore-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-functions-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-messaging-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-storage-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-analytics-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-remote-config-compat.js"></script>
  <script defer src="/__/firebase/9.14.0/firebase-performance-compat.js"></script> -->
  <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
  <script defer src="/__/firebase/init.js?useEmulator=false"></script>
</head>

<body>
  <h1>Dashboard pagina</h1>
  <p>Test data: <span id="testData"></span></p>
  <button onclick="laadData();">Laad de data</button>

  <script>
    // laden via Flask api op test branch
    // url: https://woutm.eu.pythonanywhere.com/test

    async function loadDataFromUrl(url) {
      const response = await fetch(url); // wacht tot de data binnen is
      var data = await response.json(); // zet de data om naar json

      return data; // return de data
    }

    function laadData() {
      let dataElement = document.getElementById("testData"); // haal de element op
      dataElement.innerHTML = "Laden..."; // zet de text op een placeholder tijdens laden

      loadDataFromUrl("https://woutm.eu.pythonanywhere.com/test").then(data => {
        console.log(data); // log de data van de test branch van de flask api

        dataElement.innerHTML = data.text; // zet de data in de html
      }); 
    }
  </script>
</body>

</html>